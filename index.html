<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Last Lecture | Final Class Exercise</title>

  <!-- Favicons -->
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">

  <!-- Open Graph / Social Media -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="The Last Lecture | Final Class Exercise">
  <meta property="og:description" content="Choose two experiences from the capstone menu. A closing ritual by Victor del Rosal.">
  <meta property="og:image" content="android-chrome-512x512.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="The Last Lecture">
  <meta name="twitter:description" content="Choose two experiences from the capstone menu.">
  <meta name="twitter:image" content="android-chrome-512x512.png">

  <!-- Theme color for mobile browsers -->
  <meta name="theme-color" content="#060912">
  <meta name="msapplication-TileColor" content="#060912">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&family=Inter:wght@300;400;500;600;700&family=Bebas+Neue&display=swap" rel="stylesheet">
  <style>
    :root {
      --color-bg: #fafafa;
      --color-bg-subtle: #f5f5f7;
      --color-bg-card: #ffffff;
      --color-text: #1d1d1f;
      --color-text-secondary: #6e6e73;
      --color-text-tertiary: #86868b;
      --color-primary: #0071e3;
      --color-primary-dark: #0077ed;
      --color-border: rgba(0,0,0,0.08);
      --color-border-light: rgba(0,0,0,0.04);
      --color-success: #34c759;
      --font-display: 'Playfair Display', Georgia, serif;
      --font-body: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      --shadow-sm: 0 2px 8px rgba(0,0,0,0.04);
      --shadow-md: 0 4px 16px rgba(0,0,0,0.06);
      --shadow-lg: 0 8px 32px rgba(0,0,0,0.08);
      --shadow-xl: 0 16px 48px rgba(0,0,0,0.12);
      --radius-sm: 12px;
      --radius-md: 16px;
      --radius-lg: 24px;
      --radius-xl: 32px;
      --transition: 0.3s cubic-bezier(0.25, 0.1, 0.25, 1);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    body {
      font-family: var(--font-body);
      background: var(--color-bg);
      color: var(--color-text);
      line-height: 1.6;
      font-size: 17px;
      min-height: 100vh;
    }

    /* Hero Section - Day/Night Cycle (10 minute cycle) */
    .hero {
      padding: 100px 24px 140px;
      text-align: center;
      position: relative;
      overflow: hidden;
      animation: skyGradientCycle 600s ease-in-out infinite;
    }

    @keyframes skyGradientCycle {
      /* Dusk - starting state */
      0%, 100% {
        background: linear-gradient(180deg,
          #060912 0%,
          #0a0f1a 10%,
          #0d1321 20%,
          #12203a 40%,
          #1a2d4d 55%,
          #243550 70%,
          #2f3d55 82%,
          #3d4258 92%,
          #4a4555 100%
        );
      }
      /* Transition to dawn */
      20% {
        background: linear-gradient(180deg,
          #0a1525 0%,
          #152540 10%,
          #1e3a5a 20%,
          #2a5075 40%,
          #3a6a90 55%,
          #5588aa 70%,
          #7099b8 82%,
          #8ab0c8 92%,
          #a5c4d8 100%
        );
      }
      /* Full day - bright blue sky (dark at top, light at bottom) */
      45%, 55% {
        background: linear-gradient(180deg,
          #122E74 0%,
          #122E74 10%,
          #014992 10%,
          #014992 30%,
          #007ED4 30%,
          #007ED4 55%,
          #00A3FA 55%,
          #00A3FA 100%
        );
      }
      /* Transition back to dusk */
      80% {
        background: linear-gradient(180deg,
          #0a1525 0%,
          #152540 10%,
          #1e3a5a 20%,
          #2a5075 40%,
          #3a6a90 55%,
          #5588aa 70%,
          #7099b8 82%,
          #8ab0c8 92%,
          #a5c4d8 100%
        );
      }
    }

    /* Sunset glow overlay - fades during day */
    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background:
        radial-gradient(ellipse 140% 50% at 50% 110%, rgba(196, 88, 48, 0.5) 0%, rgba(180, 70, 40, 0.25) 30%, transparent 55%),
        radial-gradient(ellipse 70% 38% at 20% 100%, rgba(210, 95, 45, 0.4) 0%, transparent 50%),
        radial-gradient(ellipse 60% 32% at 80% 105%, rgba(190, 80, 42, 0.35) 0%, transparent 45%),
        radial-gradient(ellipse 100% 28% at 50% 95%, rgba(175, 70, 35, 0.3) 0%, transparent 50%),
        radial-gradient(ellipse 80% 20% at 50% 100%, rgba(180, 60, 90, 0.15) 0%, transparent 50%),
        radial-gradient(ellipse 90% 40% at 50% -10%, rgba(70, 60, 110, 0.15) 0%, transparent 50%);
      pointer-events: none;
      animation: sunsetGlowCycle 600s ease-in-out infinite;
    }

    @keyframes sunsetGlowCycle {
      0%, 100% { opacity: 1; }
      20% { opacity: 0.3; }
      45%, 55% { opacity: 0; }
      80% { opacity: 0.3; }
    }

    /* The Sun - warm radiant core */
    .sun {
      position: absolute;
      top: 12%;
      left: 22%;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: radial-gradient(circle,
        #ffffff 0%,
        #ffffff 40%,
        #fffdf0 60%,
        #fff8dc 80%,
        rgba(255, 248, 220, 0) 100%
      );
      opacity: 0;
      animation: sunCycle 600s ease-in-out infinite;
      pointer-events: none;
    }

    /* Sun warm glow layers */
    .sun::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 280px;
      height: 280px;
      transform: translate(-50%, -50%);
      border-radius: 50%;
      background: radial-gradient(circle,
        rgba(255, 255, 255, 0.9) 0%,
        rgba(255, 255, 200, 0.6) 10%,
        rgba(255, 240, 120, 0.4) 25%,
        rgba(255, 200, 80, 0.2) 45%,
        rgba(255, 160, 50, 0.1) 65%,
        rgba(255, 140, 40, 0.05) 80%,
        transparent 100%
      );
      animation: sunPulse 8s ease-in-out infinite;
    }

    /* Sun outer orange halo */
    .sun::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 400px;
      height: 400px;
      transform: translate(-50%, -50%);
      border-radius: 50%;
      background: radial-gradient(circle,
        rgba(255, 220, 100, 0.15) 0%,
        rgba(255, 180, 60, 0.08) 30%,
        rgba(255, 150, 40, 0.03) 60%,
        transparent 100%
      );
    }

    @keyframes sunPulse {
      0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
      50% { transform: translate(-50%, -50%) scale(1.05); opacity: 0.9; }
    }

    @keyframes sunCycle {
      0%, 100% { opacity: 0; transform: translateY(20px); }
      15% { opacity: 0; transform: translateY(20px); }
      35% { opacity: 1; transform: translateY(0); }
      45%, 55% { opacity: 1; transform: translateY(0); }
      65% { opacity: 1; transform: translateY(0); }
      85% { opacity: 0; transform: translateY(20px); }
    }


    /* Celestial effects container */
    .celestial-canvas {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      pointer-events: none;
      overflow: hidden;
    }

    /* Twinkling stars - fade during day */
    .star {
      position: absolute;
      width: 2px;
      height: 2px;
      background: white;
      border-radius: 50%;
      opacity: 0;
      animation:
        twinkle var(--duration, 4s) ease-in-out infinite,
        starsDayCycle 600s ease-in-out infinite;
      animation-delay: var(--delay, 0s);
    }

    @keyframes starsDayCycle {
      0%, 100% { visibility: visible; }
      20% { visibility: visible; }
      30%, 70% { visibility: hidden; }
      80% { visibility: visible; }
    }

    .star::after {
      content: '';
      position: absolute;
      top: -1px;
      left: -1px;
      width: 4px;
      height: 4px;
      background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 70%);
      border-radius: 50%;
    }

    .star.bright {
      width: 3px;
      height: 3px;
    }

    .star.bright::after {
      top: -2px;
      left: -2px;
      width: 7px;
      height: 7px;
    }

    @keyframes twinkle {
      0%, 100% { opacity: 0; transform: scale(0.8); }
      20% { opacity: 0.15; transform: scale(1); }
      50% { opacity: 0.4; transform: scale(1.1); }
      80% { opacity: 0.15; transform: scale(1); }
    }

    /* Subtle meteor streaks - hidden during day */
    .meteor {
      position: absolute;
      width: 1px;
      height: 80px;
      background: linear-gradient(180deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.5) 50%, rgba(255,255,255,0) 100%);
      opacity: 0;
      transform: rotate(-45deg);
      animation:
        meteor var(--meteor-duration, 12s) ease-in-out infinite,
        starsDayCycle 600s ease-in-out infinite;
      animation-delay: var(--meteor-delay, 0s);
    }

    .meteor::after {
      content: '';
      position: absolute;
      top: 0;
      left: -1px;
      width: 3px;
      height: 3px;
      background: rgba(255,255,255,0.8);
      border-radius: 50%;
      box-shadow: 0 0 6px 2px rgba(255,255,255,0.3);
    }

    @keyframes meteor {
      0%, 95%, 100% {
        opacity: 0;
        transform: rotate(-45deg) translateY(-100px);
      }
      96% {
        opacity: 0.6;
      }
      98% {
        opacity: 0.3;
        transform: rotate(-45deg) translateY(200px);
      }
    }

    .hero-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 20px;
      background: rgba(255,255,255,0.08);
      border: 1px solid rgba(255,255,255,0.12);
      border-radius: 100px;
      color: rgba(255,255,255,0.8);
      font-size: 13px;
      font-weight: 500;
      letter-spacing: 0.02em;
      margin-bottom: 32px;
      backdrop-filter: blur(8px);
      animation: fadeIn 0.8s ease-out;
    }

    .hero-badge-dot {
      width: 6px;
      height: 6px;
      background: var(--color-success);
      border-radius: 50%;
      animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.6; transform: scale(1.1); }
    }

    .hero-title {
      font-family: var(--font-display);
      font-size: clamp(48px, 8vw, 80px);
      font-weight: 600;
      color: white;
      margin-bottom: 20px;
      letter-spacing: -0.03em;
      line-height: 1.1;
      animation: fadeInUp 0.8s ease-out 0.1s both;
    }

    .hero-subtitle {
      font-size: 20px;
      color: rgba(255,255,255,0.7);
      font-weight: 400;
      margin-bottom: 16px;
      animation: fadeInUp 0.8s ease-out 0.2s both;
    }

    .hero-modules {
      font-size: 14px;
      color: rgba(255,255,255,0.5);
      line-height: 1.8;
      max-width: 480px;
      margin: 0 auto 40px;
      animation: fadeInUp 0.8s ease-out 0.3s both;
    }

    .hero-date {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 14px 28px;
      background: rgba(255,255,255,0.1);
      backdrop-filter: blur(20px);
      border-radius: 100px;
      color: white;
      font-weight: 600;
      font-size: 15px;
      border: 1px solid rgba(255,255,255,0.15);
      animation: fadeInUp 0.8s ease-out 0.4s both;
    }

    .hero-date svg {
      width: 18px;
      height: 18px;
      opacity: 0.8;
    }

    .blink-colon {
      transition: opacity 0.1s ease-in-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(24px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Container */
    .container {
      max-width: 880px;
      margin: 0 auto;
      padding: 0 24px;
    }

    /* Instructions Card */
    .instructions-card {
      background: linear-gradient(to bottom, #ffffff 0%, #f5f5f7 50%, #ebebed 100%);
      border-radius: var(--radius-xl);
      padding: 48px 56px;
      margin: -80px auto 64px;
      max-width: 760px;
      position: relative;
      z-index: 10;
      box-shadow: var(--shadow-xl);
      border: 1px solid var(--color-border-light);
      animation: fadeInUp 0.8s ease-out 0.5s both;
    }

    .instructions-header {
      text-align: center;
      margin-bottom: 32px;
    }

    .instructions-icon {
      width: 56px;
      height: 56px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 20px;
      box-shadow: 0 8px 24px rgba(102, 126, 234, 0.25);
    }

    .instructions-icon svg {
      width: 28px;
      height: 28px;
      stroke: white;
    }

    .instructions-title {
      font-family: var(--font-display);
      font-size: 28px;
      font-weight: 600;
      color: var(--color-text);
      margin-bottom: 8px;
    }

    .instructions-text {
      color: var(--color-text-secondary);
      font-size: 17px;
      line-height: 1.7;
      margin-bottom: 12px;
    }

    .instructions-text strong {
      color: var(--color-text);
      font-weight: 600;
    }

    .instructions-rule {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 16px 24px;
      background: linear-gradient(135deg, #f8f9ff 0%, #f0f4ff 100%);
      border-radius: var(--radius-sm);
      margin-top: 28px;
      border: 1px solid rgba(102, 126, 234, 0.15);
    }

    .instructions-rule-icon {
      width: 36px;
      height: 36px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .instructions-rule-icon svg {
      width: 18px;
      height: 18px;
      stroke: white;
    }

    .instructions-rule-text {
      font-weight: 600;
      color: var(--color-text);
      font-size: 15px;
    }

    /* Exercises Section */
    .exercises-section {
      padding: 24px 0 80px;
    }

    .section-label {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 12px;
      font-weight: 600;
      color: var(--color-text-tertiary);
      text-transform: uppercase;
      letter-spacing: 0.1em;
      margin-bottom: 24px;
    }

    .section-label::after {
      content: '';
      flex: 1;
      height: 1px;
      background: var(--color-border);
    }

    .exercise-card {
      background: linear-gradient(to bottom, #ffffff 0%, #f5f5f7 50%, #ebebed 100%);
      border-radius: var(--radius-lg);
      margin-bottom: 16px;
      box-shadow: var(--shadow-sm);
      overflow: hidden;
      transition: all var(--transition);
      border: 1px solid var(--color-border-light);
    }

    .exercise-card:hover {
      box-shadow: var(--shadow-lg);
      transform: translateY(-2px);
    }

    .exercise-header {
      padding: 24px 28px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 20px;
      transition: background var(--transition);
      position: relative;
    }

    .exercise-header:hover {
      background: var(--color-bg-subtle);
    }

    .exercise-number {
      width: 52px;
      height: 52px;
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Bebas Neue', Impact, sans-serif;
      font-weight: 400;
      font-size: 26px;
      letter-spacing: 0.02em;
      color: white;
      flex-shrink: 0;
      background: linear-gradient(135deg,
        #0a0f1a 0%,
        #12203a 25%,
        #1a2d4d 45%,
        #2f3d55 65%,
        #4a4555 80%,
        #c45830 95%,
        #d4663c 100%
      );
      box-shadow:
        0 4px 16px rgba(0,0,0,0.25),
        inset 0 1px 0 rgba(255,255,255,0.1);
    }

    .exercise-title-group {
      flex: 1;
      min-width: 0;
    }

    .exercise-name {
      font-family: var(--font-display);
      font-size: 22px;
      font-weight: 600;
      color: var(--color-text);
      margin-bottom: 4px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .exercise-emoji {
      font-size: 20px;
    }

    .exercise-tagline {
      font-size: 15px;
      color: var(--color-text-secondary);
      font-style: italic;
    }

    .exercise-actions {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .exercise-checkbox {
      width: 28px;
      height: 28px;
      border: 2px solid var(--color-border);
      border-radius: 8px;
      cursor: pointer;
      transition: all var(--transition);
      display: flex;
      align-items: center;
      justify-content: center;
      background: white;
      flex-shrink: 0;
    }

    .exercise-checkbox:hover {
      border-color: var(--color-primary);
    }

    .exercise-checkbox.checked {
      background: var(--color-success);
      border-color: var(--color-success);
    }

    .exercise-checkbox svg {
      width: 16px;
      height: 16px;
      stroke: white;
      stroke-width: 3;
      opacity: 0;
      transform: scale(0.5);
      transition: all var(--transition);
    }

    .exercise-checkbox.checked svg {
      opacity: 1;
      transform: scale(1);
    }

    .exercise-toggle {
      width: 40px;
      height: 40px;
      border-radius: 12px;
      background: var(--color-bg-subtle);
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all var(--transition);
      flex-shrink: 0;
    }

    .exercise-toggle svg {
      width: 20px;
      height: 20px;
      stroke: var(--color-text-tertiary);
      transition: transform var(--transition);
    }

    .exercise-card.open .exercise-toggle {
      background: var(--color-text);
    }

    .exercise-card.open .exercise-toggle svg {
      stroke: white;
      transform: rotate(180deg);
    }

    .exercise-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.5s cubic-bezier(0.25, 0.1, 0.25, 1);
    }

    .exercise-card.open .exercise-content {
      max-height: 2000px;
    }

    .exercise-body {
      padding: 0 28px 32px;
      border-top: 1px solid var(--color-border-light);
    }

    .exercise-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      padding: 24px 0;
    }

    .meta-tag {
      padding: 8px 16px;
      border-radius: 100px;
      font-size: 13px;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .meta-vibe {
      background: linear-gradient(135deg, #fef9e7 0%, #fdeaa8 100%);
      color: #8a6d00;
      border: 1px solid rgba(245, 198, 64, 0.3);
    }

    .meta-best-for {
      background: linear-gradient(135deg, #e8f4fd 0%, #c4e1f6 100%);
      color: #0369a1;
      border: 1px solid rgba(56, 189, 248, 0.3);
    }

    .exercise-description {
      padding: 24px 0;
      border-bottom: 1px solid var(--color-border-light);
    }

    .description-label {
      font-weight: 600;
      color: var(--color-text);
      font-size: 13px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      margin-bottom: 12px;
    }

    .description-text {
      color: var(--color-text-secondary);
      line-height: 1.8;
      font-size: 16px;
    }

    .deliverable-box {
      background: linear-gradient(135deg, var(--color-bg-subtle) 0%, #f0f0f5 100%);
      padding: 20px 24px;
      border-radius: var(--radius-sm);
      margin: 24px 0;
      display: flex;
      align-items: flex-start;
      gap: 16px;
      border: 1px solid var(--color-border-light);
    }

    .deliverable-icon {
      width: 40px;
      height: 40px;
      background: white;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      box-shadow: var(--shadow-sm);
    }

    .deliverable-icon svg {
      width: 20px;
      height: 20px;
      stroke: var(--color-primary);
    }

    .deliverable-content {
      flex: 1;
    }

    .deliverable-label {
      font-weight: 600;
      color: var(--color-text);
      font-size: 14px;
      margin-bottom: 4px;
    }

    .deliverable-text {
      color: var(--color-text-secondary);
      font-size: 15px;
    }

    /* Prompts Section */
    .prompts-section {
      margin-top: 24px;
    }

    .prompts-toggle {
      cursor: pointer;
      padding: 18px 24px;
      background: white;
      border: 1px solid var(--color-border);
      border-radius: var(--radius-sm);
      display: flex;
      align-items: center;
      justify-content: space-between;
      transition: all var(--transition);
    }

    .prompts-toggle:hover {
      border-color: var(--color-primary);
      background: var(--color-bg-subtle);
    }

    .prompts-toggle-title {
      font-weight: 600;
      color: var(--color-text);
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 15px;
    }

    .prompts-toggle-title svg {
      width: 18px;
      height: 18px;
      stroke: var(--color-primary);
    }

    .prompts-toggle .chevron {
      width: 20px;
      height: 20px;
      stroke: var(--color-text-tertiary);
      transition: transform var(--transition);
    }

    .prompts-toggle.open .chevron {
      transform: rotate(180deg);
    }

    .prompts-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.4s cubic-bezier(0.25, 0.1, 0.25, 1);
    }

    .prompts-toggle.open + .prompts-content {
      max-height: 800px;
    }

    .prompts-list {
      padding: 24px;
      background: var(--color-bg-subtle);
      border: 1px solid var(--color-border-light);
      border-top: none;
      border-radius: 0 0 var(--radius-sm) var(--radius-sm);
      list-style: none;
    }

    .prompts-list li {
      padding: 12px 0 12px 32px;
      position: relative;
      color: var(--color-text-secondary);
      line-height: 1.7;
      font-size: 15px;
    }

    .prompts-list li::before {
      content: '';
      position: absolute;
      left: 0;
      top: 20px;
      width: 20px;
      height: 2px;
      background: linear-gradient(90deg, var(--color-primary) 0%, transparent 100%);
    }

    .live-moment {
      margin-top: 24px;
      padding: 20px 24px;
      background: linear-gradient(135deg, #fdf4ff 0%, #fae8ff 100%);
      border-radius: var(--radius-sm);
      border: 1px solid rgba(168, 85, 247, 0.2);
      display: flex;
      align-items: flex-start;
      gap: 16px;
    }

    .live-moment-icon {
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, #a855f7 0%, #7c3aed 100%);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .live-moment-icon svg {
      width: 20px;
      height: 20px;
      stroke: white;
    }

    .live-moment-content {
      flex: 1;
    }

    .live-moment-label {
      font-weight: 600;
      color: #7c3aed;
      font-size: 13px;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-bottom: 6px;
    }

    .live-moment-text {
      color: #581c87;
      font-size: 15px;
      line-height: 1.6;
    }

    /* Pairings Section */
    .pairings-section {
      background: linear-gradient(to bottom, #ffffff 0%, #f5f5f7 50%, #ebebed 100%);
      border-radius: var(--radius-xl);
      padding: 56px;
      margin: 64px auto;
      max-width: 800px;
      box-shadow: var(--shadow-md);
      border: 1px solid var(--color-border-light);
    }

    .pairings-header {
      text-align: center;
      margin-bottom: 40px;
    }

    .pairings-icon {
      width: 56px;
      height: 56px;
      background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 20px;
      box-shadow: 0 8px 24px rgba(17, 153, 142, 0.25);
    }

    .pairings-icon svg {
      width: 28px;
      height: 28px;
      stroke: white;
    }

    .pairings-title {
      font-family: var(--font-display);
      font-size: 28px;
      font-weight: 600;
      color: var(--color-text);
      margin-bottom: 8px;
    }

    .pairings-intro {
      color: var(--color-text-secondary);
      font-size: 16px;
    }

    .pairing-item {
      display: flex;
      align-items: center;
      gap: 20px;
      padding: 20px 24px;
      background: var(--color-bg-subtle);
      border-radius: var(--radius-md);
      margin-bottom: 12px;
      transition: all var(--transition);
      border: 1px solid transparent;
    }

    .pairing-item:hover {
      background: white;
      border-color: var(--color-border);
      box-shadow: var(--shadow-md);
      transform: translateX(4px);
    }

    .pairing-icons {
      font-size: 24px;
      display: flex;
      gap: 4px;
    }

    .pairing-text {
      flex: 1;
    }

    .pairing-label {
      font-weight: 600;
      color: var(--color-text);
      margin-bottom: 4px;
      font-size: 16px;
    }

    .pairing-exercises {
      color: var(--color-text-secondary);
      font-size: 14px;
    }

    .pairing-arrow {
      width: 24px;
      height: 24px;
      stroke: var(--color-text-tertiary);
      opacity: 0;
      transform: translateX(-8px);
      transition: all var(--transition);
    }

    .pairing-item:hover .pairing-arrow {
      opacity: 1;
      transform: translateX(0);
    }

    /* Submission Section */
    .submission-section {
      text-align: center;
      padding: 80px 24px;
      background: var(--color-bg-subtle);
      border-top: 1px solid var(--color-border-light);
    }

    .submission-icon {
      width: 64px;
      height: 64px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 24px;
      box-shadow: 0 8px 24px rgba(102, 126, 234, 0.25);
    }

    .submission-icon svg {
      width: 32px;
      height: 32px;
      stroke: white;
    }

    .submission-title {
      font-family: var(--font-display);
      font-size: 32px;
      font-weight: 600;
      color: var(--color-text);
      margin-bottom: 12px;
    }

    .submission-note {
      font-style: italic;
      color: var(--color-text-secondary);
      margin-bottom: 24px;
      font-size: 17px;
    }

    .submission-text {
      max-width: 560px;
      margin: 0 auto 32px;
      color: var(--color-text-secondary);
      font-size: 16px;
      line-height: 1.7;
    }

    .submission-text strong {
      color: var(--color-text);
    }

    .time-estimate {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      padding: 16px 32px;
      background: white;
      border-radius: 100px;
      font-weight: 600;
      color: var(--color-text);
      box-shadow: var(--shadow-md);
      font-size: 16px;
    }

    .time-estimate svg {
      width: 20px;
      height: 20px;
      stroke: var(--color-primary);
    }

    /* Closing Section - Dusk/Sunset Effect (inverted) */
    .closing-section {
      background: linear-gradient(180deg,
        #4a4555 0%,        /* Warm purple base from sunset */
        #3d4258 8%,        /* Mauve transition zone */
        #2f3d55 18%,       /* Purple-touched twilight */
        #243550 30%,       /* Transitional blue */
        #1a2d4d 45%,       /* Deep dusk blue */
        #12203a 60%,       /* Twilight blue */
        #0d1321 78%,       /* Rich dark navy */
        #0a0f1a 90%,       /* Darker navy */
        #060912 100%       /* Deep midnight at bottom */
      );
      padding: 100px 24px;
      text-align: center;
      color: white;
      position: relative;
      overflow: hidden;
    }

    .closing-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background:
        /* Warm sunset glow from top - enhanced */
        radial-gradient(ellipse 140% 50% at 50% -10%, rgba(196, 88, 48, 0.45) 0%, rgba(180, 70, 40, 0.2) 30%, transparent 55%),
        /* Left top orange accent - enhanced */
        radial-gradient(ellipse 70% 38% at 25% 0%, rgba(210, 95, 45, 0.35) 0%, transparent 50%),
        /* Right top warm glow - enhanced */
        radial-gradient(ellipse 60% 32% at 75% -5%, rgba(190, 80, 42, 0.3) 0%, transparent 45%),
        /* Pink/magenta horizon touch */
        radial-gradient(ellipse 80% 20% at 50% 0%, rgba(180, 60, 90, 0.12) 0%, transparent 50%),
        /* Subtle purple ambient at bottom */
        radial-gradient(ellipse 90% 40% at 50% 110%, rgba(70, 60, 110, 0.12) 0%, transparent 50%);
      pointer-events: none;
    }

    .closing-content {
      max-width: 640px;
      margin: 0 auto;
      position: relative;
      z-index: 1;
    }

    .closing-quote {
      width: 48px;
      height: 48px;
      margin: 0 auto 32px;
      opacity: 0.3;
    }

    .closing-title {
      font-family: var(--font-display);
      font-size: 24px;
      font-weight: 500;
      margin-bottom: 32px;
      color: rgba(255,255,255,0.7);
      font-style: italic;
    }

    .closing-text {
      font-size: 18px;
      line-height: 1.9;
      color: rgba(255,255,255,0.85);
      margin-bottom: 20px;
    }

    .closing-excited {
      font-family: var(--font-display);
      font-size: 24px;
      font-style: italic;
      margin-top: 48px;
      color: white;
      font-weight: 500;
    }

    .closing-divider {
      width: 48px;
      height: 2px;
      background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.4) 50%, transparent 100%);
      margin: 40px auto;
    }

    .closing-signature {
      font-family: var(--font-display);
      font-size: 20px;
      font-style: italic;
      color: rgba(255,255,255,0.6);
    }

    /* Selection Counter */
    .selection-counter {
      position: fixed;
      bottom: 32px;
      right: 32px;
      background: white;
      padding: 16px 28px;
      border-radius: 100px;
      box-shadow: var(--shadow-xl);
      display: flex;
      align-items: center;
      gap: 16px;
      z-index: 100;
      border: 1px solid var(--color-border);
      transition: all var(--transition);
    }

    .selection-counter.complete {
      background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
      border-color: transparent;
    }

    .selection-counter.complete .counter-text {
      color: white;
    }

    .counter-text {
      font-weight: 600;
      color: var(--color-text);
      font-size: 15px;
    }

    .counter-dots {
      display: flex;
      gap: 8px;
    }

    .counter-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: var(--color-border);
      transition: all var(--transition);
    }

    .counter-dot.filled {
      background: var(--color-success);
      box-shadow: 0 0 12px rgba(52, 199, 89, 0.5);
    }

    .selection-counter.complete .counter-dot {
      background: rgba(255,255,255,0.4);
    }

    .selection-counter.complete .counter-dot.filled {
      background: white;
      box-shadow: 0 0 12px rgba(255, 255, 255, 0.5);
    }

    /* Responsive */
    @media (max-width: 768px) {
      .hero {
        padding: 80px 20px 120px;
      }

      .hero-title {
        font-size: 40px;
      }

      .instructions-card {
        padding: 32px 24px;
        margin: -60px 16px 48px;
        border-radius: var(--radius-lg);
      }

      .exercise-header {
        padding: 20px;
        flex-wrap: wrap;
        gap: 16px;
      }

      .exercise-actions {
        order: -1;
        width: 100%;
        justify-content: flex-end;
      }

      .exercise-body {
        padding: 0 20px 24px;
      }

      .pairings-section {
        padding: 40px 24px;
        margin: 48px 16px;
        border-radius: var(--radius-lg);
      }

      .selection-counter {
        bottom: 20px;
        right: 20px;
        left: 20px;
        justify-content: center;
      }

      .closing-section {
        padding: 80px 24px;
      }
    }
  </style>
</head>
<body>
  <!-- Hero Section -->
  <header class="hero">
    <div class="celestial-canvas" id="hero-celestial"></div>
    <div class="sun"></div>
    <div class="hero-badge">
      <span class="hero-badge-dot"></span>
      Final Session
    </div>
    <h1 class="hero-title">The Last Lecture</h1>
    <p class="hero-subtitle">Choose 2 of 8 Exercises</p>
    <div class="hero-modules">
      Victor del Rosal
    </div>
    <div class="hero-date">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
        <line x1="16" y1="2" x2="16" y2="6"></line>
        <line x1="8" y1="2" x2="8" y2="6"></line>
        <line x1="3" y1="10" x2="21" y2="10"></line>
      </svg>
      <span id="live-datetime"></span>
    </div>
  </header>

  <!-- Instructions Card -->
  <div class="container">
    <div class="instructions-card">
      <div class="instructions-header">
        <div class="instructions-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="12" y1="16" x2="12" y2="12"></line>
            <line x1="12" y1="8" x2="12.01" y2="8"></line>
          </svg>
        </div>
        <h2 class="instructions-title">How It Works</h2>
      </div>
      <p class="instructions-text">Select <strong>two</strong> experiences from the menu below.</p>
      <p class="instructions-text">Choose one that challenges your intellect, one that resonates emotionally, or simply pick two that match the energy you want to carry forward.</p>
      <div class="instructions-rule">
        <div class="instructions-rule-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
            <polyline points="22 4 12 14.01 9 11.01"></polyline>
          </svg>
        </div>
        <span class="instructions-rule-text">Your output must be something you can keep, reuse, or defend.</span>
      </div>
    </div>
  </div>

  <!-- Exercises Section -->
  <section class="exercises-section">
    <div class="container">
      <div class="section-label">Available Exercises</div>
      <div id="exercises-container"></div>
    </div>
  </section>

  <!-- Submission Section -->
  <section class="submission-section">
    <div class="submission-icon">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
        <polyline points="17 8 12 3 7 8"></polyline>
        <line x1="12" y1="3" x2="12" y2="15"></line>
      </svg>
    </div>
    <h2 class="submission-title">Submission</h2>
    <p class="submission-note">This is not graded. It is a closing ritual.</p>
    <p class="submission-text">Save your two deliverables locally. Consider emailing them to yourself with the subject line <strong>"Capstone, Dec 2025"</strong> so your future self can find them.</p>
    <div class="time-estimate">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="10"></circle>
        <polyline points="12 6 12 12 16 14"></polyline>
      </svg>
      Estimated time: 30‚Äì50 minutes
    </div>
  </section>

  <!-- Closing Section -->
  <section class="closing-section">
    <div class="celestial-canvas" id="closing-celestial"></div>
    <div class="closing-content">
      <svg class="closing-quote" viewBox="0 0 24 24" fill="currentColor">
        <path d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z"/>
      </svg>
      <h2 class="closing-title">A closing thought</h2>
      <p class="closing-text">Today is not about proving you know things. It is about leaving with a clearer professional identity, a sharper way of thinking, and tools you will actually reuse.</p>
      <p class="closing-text">You are walking out with choices, standards, and a working approach to data and AI that you can defend. Thank you for showing up, thinking hard, and building your own judgement.</p>
      <p class="closing-excited">I am genuinely excited to see what you build next.</p>
      <div class="closing-divider"></div>
      <div class="closing-signature">‚Äî Victor</div>
    </div>
  </section>

  <!-- Selection Counter -->
  <div class="selection-counter" id="selection-counter">
    <span class="counter-text">Selected: <span id="counter-number">0</span>/2</span>
    <div class="counter-dots">
      <div class="counter-dot" id="dot-1"></div>
      <div class="counter-dot" id="dot-2"></div>
    </div>
  </div>

  <script>
    const exercises = [
      {
        emoji: "‚è≥",
        name: "The Time Capsule",
        tagline: "Future Me, Don't Forget This",
        vibe: "Reflective, intimate, identity-forward",
        bestFor: "Students who want meaning and closure",
        whatYouDo: "You write a short message to your future self as a professional who uses AI and data well. You capture what you now believe, what you refuse to do, and what you will practise.",
        deliverable: "A one-page Time Capsule Letter (PDF or Word)",
        prompts: [
          "'In six months, I want you to remember...' Name your top 3 lessons.",
          "'The line I will not cross is...' Name 1 ethical boundary.",
          "'My unfair advantage is...' Name 1 skill you will compound.",
          "'When I feel overwhelmed, I will...' Name 1 simple operating rule.",
          "'The work I want to be known for is...' Name 1 professional identity claim."
        ],
        liveOption: "Seal it with a 10-second 'private pledge' to yourself, no sharing required.",
        color: "orange"
      },
      {
        emoji: "üß≠",
        name: "The AI Operating Brief",
        tagline: "How I Use AI Like a Professional",
        vibe: "Pragmatic, confident, systems-thinking",
        bestFor: "Students who want a reusable framework",
        whatYouDo: "You create a one-page operating document that tells future-you how to use AI and data tools responsibly and effectively, across business contexts.",
        deliverable: "A one-page AI Operating Brief (A4, maximum one page)",
        prompts: [
          "Purpose: What I use AI for in business, in one sentence.",
          "My Principles: 3 rules I will not break.",
          "My Workflow: input ‚Üí thinking ‚Üí output ‚Üí review, in 4 lines.",
          "Risk Checklist: privacy, bias, hallucinations, IP, governance.",
          "My Prompt Pack: 3 prompts I will reuse (analysis, synthesis, stakeholder-friendly).",
          "My 'Stop' Conditions: when I must escalate to a human, policy, or domain expert."
        ],
        liveOption: "Pair swap for a 2-minute 'professional sanity check.'",
        color: "green"
      },
      {
        emoji: "üåå",
        name: "The Civilization Question",
        tagline: "What Is Humanity Learning Right Now?",
        vibe: "Philosophical, expansive, profound",
        bestFor: "Students who want to zoom out",
        whatYouDo: "Imagine explaining this moment in history to someone 100 years from now. What is humanity learning? What are we risking? What role do you want to play in this chapter? You write a short reflection that places your professional life inside a civilizational arc.",
        deliverable: "A 250-300 word reflection titled 'Letter to the 22nd Century'",
        prompts: [
          "'The question our generation is answering is...' Name the civilizational challenge.",
          "'What we are learning, often painfully, is...' Name 1 collective lesson.",
          "'The mistake we must not make is...' Name 1 civilizational risk.",
          "'My small part in this story is...' Name your role, however modest.",
          "'What I hope my grandchildren will say about this era is...' Name 1 legacy hope."
        ],
        liveOption: "Read your final sentence aloud. Let the room sit with it for 10 seconds of silence.",
        color: "purple"
      },
      {
        emoji: "‚öì",
        name: "The Human Anchor",
        tagline: "What Will You Never Outsource?",
        vibe: "Existential, protective, defiant",
        bestFor: "Students who want to draw a line",
        whatYouDo: "You identify what you will never delegate to a machine, not because you can't, but because doing so would diminish something essential about who you are. You write a short manifesto about the parts of your mind, your relationships, and your work that you will protect.",
        deliverable: "A one-page Human Anchor Manifesto, signed and dated",
        prompts: [
          "'The part of my thinking I will never outsource is...' Name 1 cognitive sacred ground.",
          "'The conversation I will always have in person is...' Name 1 relationship you protect.",
          "'The struggle I refuse to skip is...' Name 1 difficulty that makes you grow.",
          "'What I want my children to know about this era is...' Name 1 lesson for the next generation.",
          "'The question that keeps me human is...' Name 1 question you will never stop asking.",
          "'I will know I have lost my way if...' Name 1 warning sign of erosion."
        ],
        liveOption: "Share one anchor with a partner. Ask them: 'Will you hold me to this?'",
        color: "blue"
      },
      {
        emoji: "üîÆ",
        name: "Three Horizons",
        tagline: "Letters to Your Future Selves",
        vibe: "Temporal, identity-shaping, emotional",
        bestFor: "Students who think seriously about becoming",
        whatYouDo: "You write three short letters to yourself in 3 years, 5 years, and 10 years. Each letter answers: What do I hope you have learned? What do I hope you have built? What do I hope you have protected? You are not predicting; you are planting seeds.",
        deliverable: "Three letters (100-150 words each), dated and sealed",
        prompts: [
          "Letter 1 (3 years): 'By now, I hope you have stopped...' Name 1 habit to shed.",
          "Letter 1 (3 years): 'By now, I hope you have started...' Name 1 practice to begin.",
          "Letter 2 (5 years): 'The person you have become is someone who...' Name 1 identity shift.",
          "Letter 2 (5 years): 'The work that now defines you is...' Name 1 professional anchor.",
          "Letter 3 (10 years): 'The question you are still asking is...' Name 1 enduring question.",
          "Letter 3 (10 years): 'The people around you now are...' Describe the community you've built."
        ],
        liveOption: "Read one sentence from your 10-year letter. Let it land.",
        color: "pink"
      },
      {
        emoji: "‚öîÔ∏è",
        name: "Steelman & Synthesis",
        tagline: "Argue Both Sides, Then Transcend Them",
        vibe: "Rigorous, fair-minded, integrative",
        bestFor: "Students who want intellectual virtue",
        whatYouDo: "You choose two opposed stances on AI (e.g., 'LLMs are mere stochastic parrots' vs 'LLMs exhibit emergent understanding'; or 'AI risk is overblown' vs 'AI risk is existential'). You write the strongest possible version of each, then propose a synthesis that keeps the best of both without contradiction.",
        deliverable: "Two steelmans (120-150 words each) + one synthesis claim (80-100 words)",
        prompts: [
          "Steelman A: What's the most charitable, rigorous version of this position?",
          "Steelman B: Same. Make it as strong as possible, even if you disagree.",
          "Synthesis: What would a third position look like that honours both insights?",
          "Optional: Name the intellectual move you made (dialectic, Hegelian, pragmatist, etc.)."
        ],
        liveOption: "Pair up: one person reads Steelman A, the other reads Steelman B, then you co-create the synthesis.",
        color: "teal"
      },
      {
        emoji: "üîç",
        name: "Phenomenology of Delegation",
        tagline: "What Happens When You Hand Over Thinking?",
        vibe: "Introspective, ethical, philosophical",
        bestFor: "Students examining their AI relationship",
        whatYouDo: "You write a brief 'field note' on a moment you delegated cognition to an AI tool (real or imagined). You examine what changed in your attention, responsibility, confidence, and self-trust. Then you state a principle for 'responsible delegation.'",
        deliverable: "A 200-250 word field note + one principle formatted as a rule",
        prompts: [
          "The moment: Describe a specific instance when you handed a cognitive task to AI.",
          "Attention: What did you stop paying attention to?",
          "Responsibility: Did accountability shift? To whom?",
          "Confidence: Did you trust the output more or less than your own judgement?",
          "Self-trust: What happened to your sense of your own competence?",
          "Principle: 'When delegating cognition, I will always...'"
        ],
        liveOption: "Share your principle with a partner. Do they hold you to it?",
        color: "gold"
      },
      {
        emoji: "üé§",
        name: "The Oxford Closing Statement",
        tagline: "Two Minutes to Say What Matters",
        vibe: "Rhetorical, precise, memorable",
        bestFor: "Students who want to practise eloquence",
        whatYouDo: "Imagine you are giving the final two minutes of a public Oxford lecture titled 'Business in the Age of AI.' You must deliver a closing statement with exactly: one thesis, one risk, one hope, one norm, and one question to leave hanging.",
        deliverable: "A 180-220 word closing statement, structured with all five elements",
        prompts: [
          "Thesis: The single most important truth about AI in business.",
          "Risk: The danger we are most likely to underestimate.",
          "Hope: The possibility that makes this moment exciting, not terrifying.",
          "Norm: The standard of conduct you want your audience to adopt.",
          "Question: The unresolved question you want to leave ringing in the room."
        ],
        liveOption: "Deliver it standing, timed at exactly 2 minutes. Volunteer for the full room if you dare.",
        color: "red"
      }
    ];

    let selectedCount = 0;
    const maxSelections = 2;

    function createExerciseCard(exercise, index) {
      const card = document.createElement('div');
      card.className = 'exercise-card';
      card.dataset.index = index + 1;
      card.dataset.color = exercise.color;

      card.innerHTML = `
        <div class="exercise-header">
          <div class="exercise-number">${index + 1}</div>
          <div class="exercise-title-group">
            <div class="exercise-name">
              <span class="exercise-emoji">${exercise.emoji}</span>
              <span>${exercise.name}</span>
            </div>
            <div class="exercise-tagline">${exercise.tagline}</div>
          </div>
          <div class="exercise-actions">
            <div class="exercise-checkbox" onclick="event.stopPropagation(); toggleSelection(this)">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="20 6 9 17 4 12"></polyline>
              </svg>
            </div>
            <div class="exercise-toggle">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="6 9 12 15 18 9"></polyline>
              </svg>
            </div>
          </div>
        </div>
        <div class="exercise-content">
          <div class="exercise-body">
            <div class="exercise-meta">
              <span class="meta-tag meta-vibe">${exercise.vibe}</span>
              <span class="meta-tag meta-best-for">${exercise.bestFor}</span>
            </div>
            <div class="exercise-description">
              <div class="description-label">What You Do</div>
              <p class="description-text">${exercise.whatYouDo}</p>
            </div>
            <div class="deliverable-box">
              <div class="deliverable-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                  <polyline points="14 2 14 8 20 8"></polyline>
                  <line x1="16" y1="13" x2="8" y2="13"></line>
                  <line x1="16" y1="17" x2="8" y2="17"></line>
                  <polyline points="10 9 9 9 8 9"></polyline>
                </svg>
              </div>
              <div class="deliverable-content">
                <div class="deliverable-label">Deliverable</div>
                <div class="deliverable-text">${exercise.deliverable}</div>
              </div>
            </div>
            <div class="prompts-section">
              <div class="prompts-toggle" onclick="togglePrompts(this)">
                <span class="prompts-toggle-title">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="8" y1="6" x2="21" y2="6"></line>
                    <line x1="8" y1="12" x2="21" y2="12"></line>
                    <line x1="8" y1="18" x2="21" y2="18"></line>
                    <line x1="3" y1="6" x2="3.01" y2="6"></line>
                    <line x1="3" y1="12" x2="3.01" y2="12"></line>
                    <line x1="3" y1="18" x2="3.01" y2="18"></line>
                  </svg>
                  Template Prompts
                </span>
                <svg class="chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polyline points="6 9 12 15 18 9"></polyline>
                </svg>
              </div>
              <div class="prompts-content">
                <ul class="prompts-list">
                  ${exercise.prompts.map(p => `<li>${p}</li>`).join('')}
                </ul>
              </div>
            </div>
            <div class="live-moment">
              <div class="live-moment-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>
                </svg>
              </div>
              <div class="live-moment-content">
                <div class="live-moment-label">Optional Live Moment</div>
                <p class="live-moment-text">${exercise.liveOption}</p>
              </div>
            </div>
          </div>
        </div>
      `;

      card.querySelector('.exercise-header').addEventListener('click', (e) => {
        if (!e.target.closest('.exercise-checkbox')) {
          card.classList.toggle('open');
        }
      });

      return card;
    }

    function togglePrompts(element) {
      element.classList.toggle('open');
    }

    function toggleSelection(checkbox) {
      if (checkbox.classList.contains('checked')) {
        checkbox.classList.remove('checked');
        selectedCount--;
      } else if (selectedCount < maxSelections) {
        checkbox.classList.add('checked');
        selectedCount++;
      }
      updateCounter();
    }

    function updateCounter() {
      document.getElementById('counter-number').textContent = selectedCount;
      document.getElementById('dot-1').classList.toggle('filled', selectedCount >= 1);
      document.getElementById('dot-2').classList.toggle('filled', selectedCount >= 2);
      document.getElementById('selection-counter').classList.toggle('complete', selectedCount === 2);
    }

    // Initialize
    const container = document.getElementById('exercises-container');
    exercises.forEach((exercise, index) => {
      container.appendChild(createExerciseCard(exercise, index));
    });

    // Celestial effects - elegant stars and meteors
    function createCelestialEffects(containerId, starCount = 25, meteorCount = 2) {
      const canvas = document.getElementById(containerId);
      if (!canvas) return;

      // Create twinkling stars - positioned in upper 60% of container
      for (let i = 0; i < starCount; i++) {
        const star = document.createElement('div');
        star.className = 'star' + (Math.random() > 0.85 ? ' bright' : '');

        // Position stars more in the upper/darker part of the sky
        const topPosition = Math.random() * 60; // 0-60% from top
        star.style.left = Math.random() * 100 + '%';
        star.style.top = topPosition + '%';

        // Varied twinkle timing for natural effect
        const duration = 3 + Math.random() * 5; // 3-8s
        const delay = Math.random() * 8; // 0-8s delay
        star.style.setProperty('--duration', duration + 's');
        star.style.setProperty('--delay', delay + 's');

        canvas.appendChild(star);
      }

      // Create occasional meteors - very rare and subtle
      for (let i = 0; i < meteorCount; i++) {
        const meteor = document.createElement('div');
        meteor.className = 'meteor';

        // Position meteors in upper portion
        meteor.style.left = 20 + Math.random() * 60 + '%'; // 20-80% from left
        meteor.style.top = 5 + Math.random() * 30 + '%'; // 5-35% from top

        // Very long cycle for rare appearances
        const duration = 15 + Math.random() * 20; // 15-35s cycle
        const delay = i * 12 + Math.random() * 10; // Staggered starts
        meteor.style.setProperty('--meteor-duration', duration + 's');
        meteor.style.setProperty('--meteor-delay', delay + 's');

        canvas.appendChild(meteor);
      }
    }

    // Initialize celestial effects for both sections
    createCelestialEffects('hero-celestial', 30, 2);
    createCelestialEffects('closing-celestial', 25, 2);

    // Live date and time with blinking colon
    function updateDateTime() {
      const now = new Date();
      const dateOptions = {
        weekday: 'long',
        day: 'numeric',
        month: 'long',
        year: 'numeric'
      };
      const datePart = now.toLocaleDateString('en-GB', dateOptions);
      const hours = String(now.getHours()).padStart(2, '0');
      const minutes = String(now.getMinutes()).padStart(2, '0');

      document.getElementById('live-datetime').innerHTML =
        `${datePart} at ${hours}<span class="blink-colon">:</span>${minutes}`;
    }
    updateDateTime();
    setInterval(updateDateTime, 60000); // Update time every minute

    // Blink the colon every second
    setInterval(() => {
      const colon = document.querySelector('.blink-colon');
      if (colon) {
        colon.style.opacity = colon.style.opacity === '0' ? '1' : '0';
      }
    }, 1000);
  </script>
</body>
</html>
